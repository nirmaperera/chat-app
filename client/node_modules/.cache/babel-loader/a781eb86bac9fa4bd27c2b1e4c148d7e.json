{"ast":null,"code":"import { useReducer } from 'react';\nimport dataFetchReducer from '../reducers/dataFetchReducer';\n\nvar useApi = function useApi() {\n  var _useReducer = useReducer(dataFetchReducer, {\n    loading: false,\n    error: false,\n    data: [],\n    lastPage: false\n  }),\n      state = _useReducer[0],\n      dispatch = _useReducer[1];\n\n  var fetchImages = function fetchImages(url, isMore) {\n    if (isMore) {\n      dispatch({\n        type: 'FETCH_MORE_INIT'\n      });\n    } else {\n      dispatch({\n        type: 'FETCH_INIT'\n      });\n    }\n\n    fetch(url).then(function (response) {\n      return response.json();\n    }).then(function (response) {\n      if (isMore) {\n        dispatch({\n          type: 'FETCH_MORE_SUCCESS',\n          payload: response.data,\n          pagination: response.pagination\n        });\n      } else {\n        dispatch({\n          type: 'FETCH_SUCCESS',\n          payload: response.data,\n          pagination: response.pagination\n        });\n      }\n    }).catch(function () {\n      dispatch({\n        type: 'FETCH_FAILURE'\n      });\n    });\n  };\n\n  return [state, fetchImages];\n};\n\nexport default useApi;","map":{"version":3,"sources":["/Users/nirmaperera/Desktop/chat-app/client/node_modules/react-giphy-searchbox/es/hooks/useApi.js"],"names":["useReducer","dataFetchReducer","useApi","_useReducer","loading","error","data","lastPage","state","dispatch","fetchImages","url","isMore","type","fetch","then","response","json","payload","pagination","catch"],"mappings":"AAAA,SAASA,UAAT,QAA2B,OAA3B;AACA,OAAOC,gBAAP,MAA6B,8BAA7B;;AAEA,IAAIC,MAAM,GAAG,SAASA,MAAT,GAAkB;AAC7B,MAAIC,WAAW,GAAGH,UAAU,CAACC,gBAAD,EAAmB;AAC7CG,IAAAA,OAAO,EAAE,KADoC;AAE7CC,IAAAA,KAAK,EAAE,KAFsC;AAG7CC,IAAAA,IAAI,EAAE,EAHuC;AAI7CC,IAAAA,QAAQ,EAAE;AAJmC,GAAnB,CAA5B;AAAA,MAMIC,KAAK,GAAGL,WAAW,CAAC,CAAD,CANvB;AAAA,MAOIM,QAAQ,GAAGN,WAAW,CAAC,CAAD,CAP1B;;AASA,MAAIO,WAAW,GAAG,SAASA,WAAT,CAAqBC,GAArB,EAA0BC,MAA1B,EAAkC;AAClD,QAAIA,MAAJ,EAAY;AACVH,MAAAA,QAAQ,CAAC;AAAEI,QAAAA,IAAI,EAAE;AAAR,OAAD,CAAR;AACD,KAFD,MAEO;AACLJ,MAAAA,QAAQ,CAAC;AAAEI,QAAAA,IAAI,EAAE;AAAR,OAAD,CAAR;AACD;;AAEDC,IAAAA,KAAK,CAACH,GAAD,CAAL,CAAWI,IAAX,CAAgB,UAAUC,QAAV,EAAoB;AAClC,aAAOA,QAAQ,CAACC,IAAT,EAAP;AACD,KAFD,EAEGF,IAFH,CAEQ,UAAUC,QAAV,EAAoB;AAC1B,UAAIJ,MAAJ,EAAY;AACVH,QAAAA,QAAQ,CAAC;AACPI,UAAAA,IAAI,EAAE,oBADC;AAEPK,UAAAA,OAAO,EAAEF,QAAQ,CAACV,IAFX;AAGPa,UAAAA,UAAU,EAAEH,QAAQ,CAACG;AAHd,SAAD,CAAR;AAKD,OAND,MAMO;AACLV,QAAAA,QAAQ,CAAC;AACPI,UAAAA,IAAI,EAAE,eADC;AAEPK,UAAAA,OAAO,EAAEF,QAAQ,CAACV,IAFX;AAGPa,UAAAA,UAAU,EAAEH,QAAQ,CAACG;AAHd,SAAD,CAAR;AAKD;AACF,KAhBD,EAgBGC,KAhBH,CAgBS,YAAY;AACnBX,MAAAA,QAAQ,CAAC;AAAEI,QAAAA,IAAI,EAAE;AAAR,OAAD,CAAR;AACD,KAlBD;AAmBD,GA1BD;;AA4BA,SAAO,CAACL,KAAD,EAAQE,WAAR,CAAP;AACD,CAvCD;;AAyCA,eAAeR,MAAf","sourcesContent":["import { useReducer } from 'react';\nimport dataFetchReducer from '../reducers/dataFetchReducer';\n\nvar useApi = function useApi() {\n  var _useReducer = useReducer(dataFetchReducer, {\n    loading: false,\n    error: false,\n    data: [],\n    lastPage: false\n  }),\n      state = _useReducer[0],\n      dispatch = _useReducer[1];\n\n  var fetchImages = function fetchImages(url, isMore) {\n    if (isMore) {\n      dispatch({ type: 'FETCH_MORE_INIT' });\n    } else {\n      dispatch({ type: 'FETCH_INIT' });\n    }\n\n    fetch(url).then(function (response) {\n      return response.json();\n    }).then(function (response) {\n      if (isMore) {\n        dispatch({\n          type: 'FETCH_MORE_SUCCESS',\n          payload: response.data,\n          pagination: response.pagination\n        });\n      } else {\n        dispatch({\n          type: 'FETCH_SUCCESS',\n          payload: response.data,\n          pagination: response.pagination\n        });\n      }\n    }).catch(function () {\n      dispatch({ type: 'FETCH_FAILURE' });\n    });\n  };\n\n  return [state, fetchImages];\n};\n\nexport default useApi;"]},"metadata":{},"sourceType":"module"}